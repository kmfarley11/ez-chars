import{t as D,a as m,c as C}from"../chunks/C9ScbSBe.js";import"../chunks/Dj5J0njl.js";import{aa as se,b as ne,k as V,h as w,a1 as le,f as oe,g as $,A as ie,r as fe,i as ve,j as Y,o as j,w as M,a4 as ue,p as G,q as J,v as ce,af as L,a8 as ee,$ as F,ag as de,m as he,ah as K,ai as _e,aj as pe,a7 as be,ak as ge,al as me,am as xe,an as ye,a2 as $e,Z as Ae,K as ke,O as H,Q as Ee,R as S,T as y,M as O,N as Q,V as q}from"../chunks/CW5i7qse.js";import{a as Te,s as we}from"../chunks/qg15lu1L.js";import{c as Se}from"../chunks/CC7qJHtO.js";import{d as Ce,s as N}from"../chunks/DHL4L9Sm.js";import{p as De,i as W}from"../chunks/x_Jt1Fdd.js";import{s as Ie,H as Me,D as He,M as X}from"../chunks/C7rPdLmL.js";function B(n,e){return e}function Ne(n,e,r,l){for(var s=[],v=e.length,u=0;u<v;u++)pe(e[u].e,s,!0);var p=v>0&&s.length===0&&r!==null;if(p){var c=r.parentNode;be(c),c.append(r),l.clear(),T(n,e[0].prev,e[v-1].next)}ge(s,()=>{for(var _=0;_<v;_++){var a=e[_];p||(l.delete(a.k),T(n,a.prev,a.next)),me(a.e,!p)}})}function U(n,e,r,l,s,v=null){var u=n,p={flags:e,items:new Map,first:null};{var c=n;u=w?V(le(c)):c.appendChild(se())}w&&oe();var _=null,a=!1,d=ie(()=>{var t=r();return Ae(t)?t:t==null?[]:ee(t)});ne(()=>{var t=$(d),i=t.length;if(a&&i===0)return;a=i===0;let f=!1;if(w){var x=fe(u)===ve;x!==(i===0)&&(u=Y(),V(u),j(!1),f=!0)}if(w){for(var g=null,o,h=0;h<i;h++){if(M.nodeType===8&&M.data===ue){u=M,f=!0,j(!1);break}var k=t[h],A=l(k,h);o=re(M,p,g,null,k,A,h,s,e,r),p.items.set(A,o),g=o}i>0&&V(Y())}w||Oe(t,p,u,s,e,l,r),v!==null&&(i===0?_?G(_):_=J(()=>v(u)):_!==null&&ce(_,()=>{_=null})),f&&j(!0),$(d)}),w&&(u=M)}function Oe(n,e,r,l,s,v,u){var p=n.length,c=e.items,_=e.first,a=_,d,t=null,i=[],f=[],x,g,o,h;for(h=0;h<p;h+=1){if(x=n[h],g=v(x,h),o=c.get(g),o===void 0){var k=a?a.e.nodes_start:r;t=re(k,e,t,t===null?e.first:t.next,x,g,h,l,s,u),c.set(g,t),i=[],f=[],a=t.next;continue}if(Re(o,x,h),(o.e.f&L)!==0&&G(o.e),o!==a){if(d!==void 0&&d.has(o)){if(i.length<f.length){var A=f[0],b;t=A.prev;var E=i[0],I=i[i.length-1];for(b=0;b<i.length;b+=1)Z(i[b],A,r);for(b=0;b<f.length;b+=1)d.delete(f[b]);T(e,E.prev,I.next),T(e,t,E),T(e,I,A),a=A,t=I,h-=1,i=[],f=[]}else d.delete(o),Z(o,a,r),T(e,o.prev,o.next),T(e,o,t===null?e.first:t.next),T(e,t,o),t=o;continue}for(i=[],f=[];a!==null&&a.k!==g;)(a.e.f&L)===0&&(d??(d=new Set)).add(a),f.push(a),a=a.next;if(a===null)continue;o=a}i.push(o),t=o,a=o.next}if(a!==null||d!==void 0){for(var P=d===void 0?[]:ee(d);a!==null;)(a.e.f&L)===0&&P.push(a),a=a.next;var ae=P.length;if(ae>0){var te=p===0?r:null;Ne(e,P,te,c)}}F.first=e.first&&e.first.e,F.last=t&&t.e}function Re(n,e,r,l){de(n.v,e),n.i=r}function re(n,e,r,l,s,v,u,p,c,_){var a=(c&xe)!==0,d=(c&ye)===0,t=a?d?he(s):K(s):s,i=(c&_e)===0?u:K(u),f={i,v:t,k:v,a:null,e:null,prev:r,next:l};try{return f.e=J(()=>p(n,t,i,_),w),f.e.prev=r&&r.e,f.e.next=l&&l.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),l!==null&&(l.prev=f,l.e.prev=f.e),f}finally{}}function Z(n,e,r){for(var l=n.next?n.next.e.nodes_start:r,s=e?e.e.nodes_start:r,v=n.e.nodes_start;v!==l;){var u=$e(v);s.before(v),v=u}}function T(n,e,r){e===null?n.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}const ze=n=>String(n).charAt(0).toUpperCase()+String(n).slice(1),R=n=>{const e=Object.keys(n),r=[];return e.forEach(l=>{const s=n[l];Array.isArray(s)?r.push(`${l}::${z(s)}`):typeof s=="object"?r.push(`${l}::${R(s)}`):r.push(`${l}::${s}`)}),z(r,!1)},z=(n,e=!0)=>{const r=[];n.forEach(s=>{Array.isArray(s)?r.push(z(s)):typeof s=="object"?r.push(R(s)):r.push(`${s}`)});const l=r.reduce((s,v)=>s?`${v}, ${s}`:v,"");return e===!0?`[${l}]`:`${l}`};var Pe=D('<th class="rounded-sm border p-2"> </th>'),Ve=(n,e,r)=>e()($(r)),je=D('<td class="rounded-sm border p-2 text-left"><!></td>'),Le=D('<tr class="text-black hover:text-white even:bg-slate-300 hover:bg-slate-700 even:hover:bg-slate-700 hover:mouse cursor-pointer"></tr>'),qe=D('<div class="p-2"><table><thead><tr class="bg-slate-700 text-center text-slate-100"></tr></thead><tbody></tbody></table></div>');function Be(n,e){ke(e,!0);let r=De(e,"onSelect",3,c=>{alert(R(c))});var l=qe(),s=S(l),v=S(s),u=S(v);U(u,21,()=>Object.keys(e.tableData[0]),B,(c,_)=>{var a=Pe(),d=S(a,!0);y(a),H(t=>N(d,t),[()=>ze($(_))]),m(c,a)}),y(u),y(v);var p=O(v);U(p,21,()=>Object.values(e.tableData),B,(c,_)=>{var a=Le();a.__click=[Ve,r,_],U(a,21,()=>Object.values($(_)),B,(d,t)=>{var i=je(),f=S(i);{var x=o=>{var h=C();H(k=>N(h,k),[()=>z($(t))]),m(o,h)},g=(o,h)=>{{var k=b=>{var E=C();H(I=>N(E,I),[()=>R($(t))]),m(b,E)},A=b=>{var E=C();H(()=>N(E,$(t))),m(b,E)};W(o,b=>{typeof $(t)=="object"?b(k):b(A,!1)},h)}};W(f,o=>{Array.isArray($(t))?o(x):o(g,!1)})}y(i),m(d,i)}),y(a),m(c,a)}),y(p),y(s),y(l),H(()=>Ie(s,1,`${e.variant??""} border-tools-table-outline border-slate w-full table-auto border-separate justify-between rounded-sm border-2 text-left`)),m(n,l),Ee()}Ce(["click"]);var Ue=D("<!> <!>",1),Ye=D('<!> <p class="mb-6 text-lg font-normal text-gray-500 sm:px-16 lg:text-xl xl:px-48 dark:text-gray-400">Visit <a href="https://github.com/kmfarley11/ez-chars" target="_blank">github.com/kmfarley11/ez-chars</a> to see the source code</p> <div><div style="align-items: center;"><!></div>  <!></div>',1);function er(n){const[e,r]=Te(),l=()=>we(Se,"$charsArray",e);let s="redTable";var v=Ye(),u=Q(v);Me(u,{variant:"xl",children:(d,t)=>{q();var i=C("Welcome to ez-chars!");m(d,i)},$$slots:{default:!0}});var p=O(u,4),c=S(p),_=S(c);He(_,{text:"System Selection!",useChevrons:!0,children:(d,t)=>{var i=Ue(),f=Q(i);X(f,{onclick:()=>{location.href="/charsheets/5e"},children:(g,o)=>{q();var h=C("2014 5e Character (sidekick)");m(g,h)},$$slots:{default:!0}});var x=O(f,2);X(x,{onclick:()=>alert("todo"),children:(g,o)=>{q();var h=C("2014 5e Character");m(g,h)},$$slots:{default:!0}}),m(d,i)},$$slots:{default:!0}}),y(c);var a=O(c,2);Be(a,{get tableData(){return l()},variant:s,onSelect:d=>location.href=`/charsheets/5e/${d.id}`}),y(p),m(n,v),r()}export{er as component};
