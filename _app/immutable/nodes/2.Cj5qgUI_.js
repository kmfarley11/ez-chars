import{t as D,a as m,c as C}from"../chunks/C9ScbSBe.js";import"../chunks/Dj5J0njl.js";import{aa as ne,b as le,k as V,h as w,a1 as oe,f as ie,g as $,A as fe,r as ve,i as ue,j as Y,o as j,w as M,a4 as ce,p as J,q as ee,v as de,af as L,a8 as re,$ as F,ag as he,m as _e,ah as K,ai as pe,aj as be,a7 as ge,ak as me,al as xe,am as ye,an as $e,a2 as Ae,Z as ke,K as Ee,O as H,Q as Te,R as S,T as y,M as O,N as Q,V as q}from"../chunks/CW5i7qse.js";import{a as we,s as Se}from"../chunks/qg15lu1L.js";import{b as W}from"../chunks/BK351Jr_.js";import{c as Ce}from"../chunks/CC7qJHtO.js";import{d as De,s as N}from"../chunks/DHL4L9Sm.js";import{p as Ie,i as X}from"../chunks/x_Jt1Fdd.js";import{s as Me,H as He,D as Ne,M as Z}from"../chunks/C7rPdLmL.js";function B(n,e){return e}function Oe(n,e,r,l){for(var s=[],v=e.length,u=0;u<v;u++)be(e[u].e,s,!0);var p=v>0&&s.length===0&&r!==null;if(p){var c=r.parentNode;ge(c),c.append(r),l.clear(),T(n,e[0].prev,e[v-1].next)}me(s,()=>{for(var _=0;_<v;_++){var a=e[_];p||(l.delete(a.k),T(n,a.prev,a.next)),xe(a.e,!p)}})}function U(n,e,r,l,s,v=null){var u=n,p={flags:e,items:new Map,first:null};{var c=n;u=w?V(oe(c)):c.appendChild(ne())}w&&ie();var _=null,a=!1,d=fe(()=>{var t=r();return ke(t)?t:t==null?[]:re(t)});le(()=>{var t=$(d),i=t.length;if(a&&i===0)return;a=i===0;let f=!1;if(w){var x=ve(u)===ue;x!==(i===0)&&(u=Y(),V(u),j(!1),f=!0)}if(w){for(var g=null,o,h=0;h<i;h++){if(M.nodeType===8&&M.data===ce){u=M,f=!0,j(!1);break}var k=t[h],A=l(k,h);o=ae(M,p,g,null,k,A,h,s,e,r),p.items.set(A,o),g=o}i>0&&V(Y())}w||Re(t,p,u,s,e,l,r),v!==null&&(i===0?_?J(_):_=ee(()=>v(u)):_!==null&&de(_,()=>{_=null})),f&&j(!0),$(d)}),w&&(u=M)}function Re(n,e,r,l,s,v,u){var p=n.length,c=e.items,_=e.first,a=_,d,t=null,i=[],f=[],x,g,o,h;for(h=0;h<p;h+=1){if(x=n[h],g=v(x,h),o=c.get(g),o===void 0){var k=a?a.e.nodes_start:r;t=ae(k,e,t,t===null?e.first:t.next,x,g,h,l,s,u),c.set(g,t),i=[],f=[],a=t.next;continue}if(ze(o,x,h),(o.e.f&L)!==0&&J(o.e),o!==a){if(d!==void 0&&d.has(o)){if(i.length<f.length){var A=f[0],b;t=A.prev;var E=i[0],I=i[i.length-1];for(b=0;b<i.length;b+=1)G(i[b],A,r);for(b=0;b<f.length;b+=1)d.delete(f[b]);T(e,E.prev,I.next),T(e,t,E),T(e,I,A),a=A,t=I,h-=1,i=[],f=[]}else d.delete(o),G(o,a,r),T(e,o.prev,o.next),T(e,o,t===null?e.first:t.next),T(e,t,o),t=o;continue}for(i=[],f=[];a!==null&&a.k!==g;)(a.e.f&L)===0&&(d??(d=new Set)).add(a),f.push(a),a=a.next;if(a===null)continue;o=a}i.push(o),t=o,a=o.next}if(a!==null||d!==void 0){for(var P=d===void 0?[]:re(d);a!==null;)(a.e.f&L)===0&&P.push(a),a=a.next;var te=P.length;if(te>0){var se=p===0?r:null;Oe(e,P,se,c)}}F.first=e.first&&e.first.e,F.last=t&&t.e}function ze(n,e,r,l){he(n.v,e),n.i=r}function ae(n,e,r,l,s,v,u,p,c,_){var a=(c&ye)!==0,d=(c&$e)===0,t=a?d?_e(s):K(s):s,i=(c&pe)===0?u:K(u),f={i,v:t,k:v,a:null,e:null,prev:r,next:l};try{return f.e=ee(()=>p(n,t,i,_),w),f.e.prev=r&&r.e,f.e.next=l&&l.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),l!==null&&(l.prev=f,l.e.prev=f.e),f}finally{}}function G(n,e,r){for(var l=n.next?n.next.e.nodes_start:r,s=e?e.e.nodes_start:r,v=n.e.nodes_start;v!==l;){var u=Ae(v);s.before(v),v=u}}function T(n,e,r){e===null?n.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}const Pe=n=>String(n).charAt(0).toUpperCase()+String(n).slice(1),R=n=>{const e=Object.keys(n),r=[];return e.forEach(l=>{const s=n[l];Array.isArray(s)?r.push(`${l}::${z(s)}`):typeof s=="object"?r.push(`${l}::${R(s)}`):r.push(`${l}::${s}`)}),z(r,!1)},z=(n,e=!0)=>{const r=[];n.forEach(s=>{Array.isArray(s)?r.push(z(s)):typeof s=="object"?r.push(R(s)):r.push(`${s}`)});const l=r.reduce((s,v)=>s?`${v}, ${s}`:v,"");return e===!0?`[${l}]`:`${l}`};var Ve=D('<th class="rounded-sm border p-2"> </th>'),je=(n,e,r)=>e()($(r)),Le=D('<td class="rounded-sm border p-2 text-left"><!></td>'),qe=D('<tr class="text-black hover:text-white even:bg-slate-300 hover:bg-slate-700 even:hover:bg-slate-700 hover:mouse cursor-pointer"></tr>'),Be=D('<div class="p-2"><table><thead><tr class="bg-slate-700 text-center text-slate-100"></tr></thead><tbody></tbody></table></div>');function Ue(n,e){Ee(e,!0);let r=Ie(e,"onSelect",3,c=>{alert(R(c))});var l=Be(),s=S(l),v=S(s),u=S(v);U(u,21,()=>Object.keys(e.tableData[0]),B,(c,_)=>{var a=Ve(),d=S(a,!0);y(a),H(t=>N(d,t),[()=>Pe($(_))]),m(c,a)}),y(u),y(v);var p=O(v);U(p,21,()=>Object.values(e.tableData),B,(c,_)=>{var a=qe();a.__click=[je,r,_],U(a,21,()=>Object.values($(_)),B,(d,t)=>{var i=Le(),f=S(i);{var x=o=>{var h=C();H(k=>N(h,k),[()=>z($(t))]),m(o,h)},g=(o,h)=>{{var k=b=>{var E=C();H(I=>N(E,I),[()=>R($(t))]),m(b,E)},A=b=>{var E=C();H(()=>N(E,$(t))),m(b,E)};X(o,b=>{typeof $(t)=="object"?b(k):b(A,!1)},h)}};X(f,o=>{Array.isArray($(t))?o(x):o(g,!1)})}y(i),m(d,i)}),y(a),m(c,a)}),y(p),y(s),y(l),H(()=>Me(s,1,`${e.variant??""} border-tools-table-outline border-slate w-full table-auto border-separate justify-between rounded-sm border-2 text-left`)),m(n,l),Te()}De(["click"]);var Ye=D("<!> <!>",1),Fe=D('<!> <p class="mb-6 text-lg font-normal text-gray-500 sm:px-16 lg:text-xl xl:px-48 dark:text-gray-400">Visit <a href="https://github.com/kmfarley11/ez-chars" target="_blank">github.com/kmfarley11/ez-chars</a> to see the source code</p> <div><div style="align-items: center;"><!></div>  <!></div>',1);function ar(n){const[e,r]=we(),l=()=>Se(Ce,"$charsArray",e);let s="redTable";var v=Fe(),u=Q(v);He(u,{variant:"xl",children:(d,t)=>{q();var i=C("Welcome to ez-chars!");m(d,i)},$$slots:{default:!0}});var p=O(u,4),c=S(p),_=S(c);Ne(_,{text:"System Selection!",useChevrons:!0,children:(d,t)=>{var i=Ye(),f=Q(i);Z(f,{onclick:()=>{location.href=`${W}/charsheets/5e`},children:(g,o)=>{q();var h=C("2014 5e Character (sidekick)");m(g,h)},$$slots:{default:!0}});var x=O(f,2);Z(x,{onclick:()=>alert("todo"),children:(g,o)=>{q();var h=C("2014 5e Character");m(g,h)},$$slots:{default:!0}}),m(d,i)},$$slots:{default:!0}}),y(c);var a=O(c,2);Ue(a,{get tableData(){return l()},variant:s,onSelect:d=>location.href=`${W}/charsheets/5e/${d.id}`}),y(p),m(n,v),r()}export{ar as component};
