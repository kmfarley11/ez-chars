import{J as g,I,w as v,K as D,H as F,L as H,M as Y,v as q,u as N,N as R,F as S,O as b,U as M,x as P,P as U,Q as p,R as w,S as B,T as C}from"./DuuYBqbr.js";function K(a,t,[r,f]=[0,0]){I&&r===0&&v();var i=a,s=null,c=null,u=M,k=r>0?D:0,T=!1;const L=(n,l=!0)=>{T=!0,A(l,n)},A=(n,l)=>{if(u===(u=n))return;let E=!1;if(I&&f!==-1){if(r===0){const e=i.data;e===F?f=0:e===H?f=1/0:(f=parseInt(e.substring(1)),f!==f&&(f=u?1/0:-1))}const O=f>r;!!u===O&&(i=Y(),q(i),N(!1),E=!0,f=-1)}u?(s?R(s):l&&(s=S(()=>l(i))),c&&b(c,()=>{c=null})):(c?R(c):l&&(c=S(()=>l(i,[r+1,f]))),s&&b(s,()=>{s=null})),E&&N(!0)};g(()=>{T=!1,t(L),T||A(null,null)},k),I&&(i=P)}function h(a,t){return a===t||(a==null?void 0:a[C])===t}function Q(a={},t,r,f){return U(()=>{var i,s;return p(()=>{i=s,s=[],w(()=>{a!==r(...s)&&(t(a,...s),i&&h(r(...i),a)&&t(null,...i))})}),()=>{B(()=>{s&&h(r(...s),a)&&t(null,...s)})}}),a}export{Q as b,K as i};
